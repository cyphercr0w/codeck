# Codeck — LAN Access
#
# Enables codeck.local from any device on the local network via mDNS.
# Works the same on Linux, Windows, and macOS — uses bridge networking
# with an mDNS responder inside the container.
#
# For LAN device access (phones, tablets, other computers), also run
# the host-side mDNS advertiser script:
#   cd scripts && npm install && node scripts/mdns-advertiser.cjs
#
# Usage:
#   docker compose -f docker-compose.yml -f docker-compose.lan.yml up
#
# Requirements:
#   - avahi-daemon or libnss-mdns on client devices (most Linux distros, all Apple devices have this)
#   - Android: mDNS works natively since Android 12+; older versions need an app
#   - Host-side mDNS advertiser for LAN discovery (see scripts/mdns-advertiser.cjs)
#
# What this gives you:
#   - http://codeck.local — dashboard from any device
#   - http://codeck.local:{port} — dev server preview from any device

services:
  sandbox:
    environment:
      - CODECK_LAN_MODE=true
